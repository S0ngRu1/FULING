# 议题二 项目设计与问题回答
> **本项目的整体设计与前后端开发均由 蔡松睿 一人完成**

本文档详细阐述了“赋灵”AI角色扮演语音聊天系统的设计理念、功能规划、技术选型以及核心AI能力设计，旨在全面展示项目在一周开发周期内的思考与实现成果。

### **1. 你计划将这个网页面向什么类型的用户？这些类型的用户他们面临什么样的痛点，你设想的用户故事是什么样呢？**

#### **计划面向的用户群体**

本项目主要面向以下三类用户：

1. **情感与娱乐寻求者 (主要用户)**:
   - **画像**: 他们是小说、动漫、游戏等作品的爱好者，或是对特定历史人物、虚拟偶像有深厚情感的用户。他们渴望与喜爱的角色建立更深层次的、动态的情感连接。
   - **典型代表**: 喜欢《斗破苍穹》并对美杜莎女王着迷的读者；渴望体验校园浪漫故事，并与“痞帅校草”这样的理想角色互动的年轻用户。
2. **知识与技能学习者 (次要用户)**:
   - **画像**: 他们希望在一个无压力的、有趣的互动环境中提升某项技能或获取知识。
   - **典型代表**: 希望通过与AI私教对话来练习英语口语的学生；对历史或文学充满好奇，并希望与福尔摩斯这样的“专家”直接对话的学习者。
3. **内容创作者与探索者 (潜力用户)**:
   - **画像**: 他们拥有丰富的想象力，热衷于创造自己的故事和角色，并希望将这些创想变为现实。
   - **典型代表**: 寻求灵感的同人小说作者；希望快速将自己的OC（原创角色）变为可互动AI的创作者。

#### **用户面临的核心痛点**

- **沉浸感缺失**: 传统的书籍、影视、游戏等媒介提供了单向、被动的故事体验。用户无法与角色进行真实的、不可预测的互动，缺乏作为“参与者”的真实沉浸感。
- **情感连接空白**: 现实生活中，人们可能因各种原因感到孤独，或渴望一个能随时倾听、不会评判的交流对象。
- **练习环境匮乏**: 语言学习者常常因为害怕犯错、找不到合适的语伴而难以开口练习。

#### 设想的用户故事

1. **(情感娱乐)**  作为一名**对校园恋爱故事充满向往的用户**，我想要**和“辰熙”这样的痞帅校草成为同桌并进行语音聊天**，以便能体验到那种被特别对待、时而甜蜜时而被逗弄的、令人心跳加速的互动，**满足我的情感娱乐需求**。
2. **(技能学习)** 作为一名**准备出国留学的学生，**我想要**每天和“英文口语私教”进行15分钟的自由对话，**以便在一个安全、无压力的环境中**提升我的英语流利度和自信心**。
3. **(知识探索)** 作为一名**《福尔摩斯探案集》的粉丝，**我想要**向福尔摩斯本人询问关于“红发会”案件的细节，**以便能从他的视角，听到比书中更生动的、带有其独特推理风格的解答，获得“专家级”的沉浸式体验。

### **2. 你认为这个网页需要哪些功能？这些功能各自的优先级是什么？你计划本次开发哪些功能？**

为确保在一周的时间内交付一个功能完整且有深度的产品，我采用了MoSCoW方法对功能进行优先级排序。

#### **需要的功能与优先级**

- **Must-have (必须有 - 本次已开发核心)**:
  - **P0**: 角色发现与列表展示。
  - **P0**: 实时语音对话流程（STT -> LLM -> TTS）。
  - **P0**: **情感化语音合成**：实现LLM驱动TTS，让语音能根据情绪调整语速。
  - **P1**: **专家记忆系统 (RAG)**：为特定角色配备基于向量数据库的精准知识问答能力。
  - **P1**: **长程记忆系统**：实现跨会话的对话摘要与记忆。
  - **P1**: **用户自定义角色 (UGC)**：提供完整的角色创建流程。
  - **P2**: **历史对话管理**：支持查看、删除和继续历史对话。
- **Should-have (应该有 - 未来扩展)**:
  - 加载并继续完整的历史对话，而不仅仅是基于摘要。
  - 角色分享与社区发现功能。
  - 更精细的情感TTS。
- **Could-have (可以有 - 远期规划)**:
  - 虚拟人形象集成与口型同步。
  - 支持多个AI角色进行群聊。

#### **本次开发的具体功能**

本次为期一周的开发，我**全面实现了所有“Must-have”级别的功能**，构建了一个从角色创建到深度智能对话、再到长期记忆管理的完整闭环。我的开发重点没有停留在简单的“聊天”，而是深入到了情感表达、知识准确性和关系连续性等更能体现AI技术深度的层面。

### **3. 你计划采纳哪家公司的哪个 LLM 模型能力？你对比了哪些，你为什么选择用该 LLM 模型？**

#### **计划采纳的模型**

经过对多个主流大语言模型的综合评估，我最终决定采用**豆包-Flash (Doubao-Seed 1.6 Flash**作为项目的核心驱动。

#### **模型对比与选择**

我主要从**速度、性能（角色扮演与指令遵循）、生动性**和**费用**四个维度，对以下几款国内外主流模型进行了横向对比：

| 排名 | 模型                                  | 速度     | 性能 (角色扮演/指令遵循)                                     | 回答生动性                                                   | 费用                                      | 评价                                                         |
| ---- | ------------------------------------- | -------- | ------------------------------------------------------------ | ------------------------------------------------------------ | ----------------------------------------- | ------------------------------------------------------------ |
| 1    | **Doubao-Seed 1.6 Flash(本项目选用)** | **快**   | **优秀**。适合快速、轻量级的对话，对于本项目中多层指令（人格+记忆+RAG+JSON）的组合表现也非常稳定。 | **优秀**。在维持人设、进行创造性对话方面表现出色。           | **低**。输入0.00015元/K 输出0.0015元/K    | **极致性价比**。速度与成本优势巨大，是实现大规模实时语音聊天的最优选。 |
| 2    | **X-Ai/Grok 4 Fast**                  | **较快** | **优秀**。自带的“叛逆”个性可能会干扰严肃角色的扮演，存在“破人设”风险。 | **优秀**。对话有趣，但不适用于所有角色类型。                 | **较高**。0.00144元/K 0.0036元/K          | **风格独特但偏贵**。趣味性强，但人设可控性弱，且成本过高。   |
| 3    | **通义千问3 32B**                     | **一般** | **优秀**。通用能力强大，但在复杂的指令下，稳定性可能需要更多调优。 | **优秀**。能够生成高质量的中文内容，但有时需要更明确的引导来避免“助手”口吻。 | **较高**。输入输入0.002元/K 输出0.008元/K | **响应速度一般且偏贵**。通用能力强，但较高的成本削弱了其竞争力，且响应速度一般。 |
| 4    | **Kimi K2**                           | **偏慢** | **优秀**。对复杂指令的遵循能力非常稳定。                     | **良好**。对话风格活泼，适合闲聊型角色。                     | **高**。输入 0.004元/K 输出0.016元/K      | **代价高昂**。昂贵的费用和偏慢的响应速度，使其在实时应用中性价比较低。 |
| 5    | **DeepSeek V3**                       | **偏慢** | **较差**。在角色扮演和情感模拟上，幻觉较大。                 | **良好**。能够完成任务，但默认风格偏向严谨和技术性。         | **较高**。输入0.002元/K 输出0.008元/K     | **技术错配**。逻辑能力强，但在本项目核心的角色扮演与情感模拟方面表现较差 |

#### **为什么最终选择豆包-Flash？**

选择豆包-Flash是基于其与本项目核心需求**高度契合**的战略性决策：

- **最佳的能力平衡**: 豆包-Flash在速度、性能和生动性上取得了最理想的平衡。它既能快速响应以保证对话的流畅性，又具备强大的性能来处理我复杂的后台逻辑，同时还能生成富有“灵魂感”的对话内容。
- **稳定的JSON输出**: 我的核心创新点——**情感化语音**，完全依赖于LLM能否稳定地返回包含`response`和`emotion`的JSON对象。在所有测试模型中，豆包-Flash的表现在这方面最为可靠和一致，这直接保证了我核心功能的健壮性。
- **为未来提供可能**: 豆包-Flash 支持256k 上下文窗口。虽然当前版本的长程记忆系统使用的是摘要，但选用豆包-Flash为我未来的升级（例如，让AI能够回顾完整的对话历史）提供了技术空间。
- **卓越的角色扮演能力**: 无论是李白的豪放不羁，还是辰熙的细腻情感，豆包-Flash都能精准地捕捉并演绎出来，这是提升用户沉浸感和情感连接的关键。

### **4. 你期望 AI 角色除了语音聊天外还应该有哪些技能？**

我期望AI角色不仅仅是一个被动的聊天机器人，而是一个具备多种高级技能、能够提供深度价值的智能伙伴。

除了基础的语音聊天，我们为角色设计并实现了以下四大核心技能：

1. **专家记忆与精准问答 (RAG)**:
   - **技能描述**: 赋予角色的“专业技能”。通过与向量数据库连接，角色可以访问其专属的私有知识库。当被问及相关问题时，它能够进行语义检索，并像真正的专家一样，根据知识库给出精准、无幻觉的回答。
2. **情感表达与共鸣**:
   - **技能描述**: 赋予角色的“情商”。角色不仅能通过文字理解和表达情感，更能通过“LLM驱动TTS”流程，将推断出的情绪转化为声音的细微变化，实现声音上的情感传递。
3. **长程记忆与关系延续**:
   - **技能描述**: 赋予角色的“记忆能力”。通过自动化的对话摘要和数据库存储，角色能够“记住”与用户的上一次互动。当用户再次开启对话时，角色可以自然地提及过往的交流内容，延续上一次的话题。
4. **动态演绎与视觉反馈**:
   - **技能描述**: 赋予角色的“表演能力”。通过将LLM的JSON输出扩展至包含`action`或`expression`标签（例如：“微笑”、“皱眉”、“点头”），系统可以触发预设的视觉变化。为用户提供了即时的、非语言的反馈。
